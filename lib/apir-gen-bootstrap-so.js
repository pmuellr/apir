// Generated by CoffeeScript 1.6.3
var PROGRAM, fs, gen_bs, path;

fs = require("fs");

path = require("path");

gen_bs = require("./apir-gen-bootstrap");

PROGRAM = path.basename(__filename);

PROGRAM = (PROGRAM.match(/(.*)\..*/))[1];

exports.process = function(api, options) {
  var fname, logger, output, result;
  output = options.output, logger = options.logger;
  logger = logger.newLogger(PROGRAM);
  fname = "" + output + ".html";
  logger.log("generating " + fname);
  result = gen_bs.processString(api);
  result = "<!doctype html>\n<html>\n    <meta charset=\"utf-8\"> \n    <head>\n        <link rel=\"stylesheet\" href=\"//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css\">\n        <link rel=\"stylesheet\" href=\"//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-theme.min.css\">\n        <script src=\"//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js\"></script>        \n    </head>\n\n    <body>\n\n" + result + "\n\n    </body>\n    </html>";
  return fs.writeFileSync(fname, result);
};

exports.processString = function(api) {
  return JSON.stringify(api, null, 4);
};
